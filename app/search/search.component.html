<div class='row'  >

  <div id="search-box-and-download">
    <budgetkey-search-bar [searchTerm]="term"
                          [selectedSearchType]="selectedDocType"
                          [isSearching]="isSearching"
                          [allowSubscribe]="true"
                          [externalTitle]="term"
                          [externalUrlParams]="subscriptionUrlParams"
                          [externalProperties]="subscriptionProperties"
                          (search)="onTermChanged($event)"
                          (selected)="onDocTypeSelected($event)"

    ></budgetkey-search-bar>

  <!--a i18n="@@download" href='javascript:void(0)' (click)="download(term);"> Download </a-->
  </div>

</div>

<search-filter-menu-bar 
    *ngIf='term'
    [menus]="selectedDocType.filterMenu || []" 
    (selected)="onSearchFilterMenuChange()" 
>
  <timeline [periods]="periods"
            [selectedPeriod]="selectedPeriod"
            (onPeriodChangeSearch)="onPeriodChangeSearch($event)"
  ></timeline>
</search-filter-menu-bar>

<div #searchBody class="search_body">

  <div *ngFor="let item of allDocs | async; let i = index" >
    <search-result [item]="item" [index]="i" [kind]="item.type"></search-result>
  </div>
      <h1 style="text-align: center;" *ngIf='getStatus() === "searching"' i18n='@@searchingStatus'>{{getStatusText()}}</h1>
      <h1 style="text-align: center;" *ngIf='getStatus() === "error"' i18n='@@errorStatus'>{{getStatusText()}}</h1>
      <h1 style="text-align: center;" *ngIf='getStatus() === "len0"' i18n='@@len0Status'>{{getStatusText()}}</h1>
</div>



